<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	//定义一个构造函数
	function pasta(grain, width, shape, hasEgg) {
		this.grain = grain; // 是用什么粮食做的？   
		this.width = width; // 多宽？（数值）      
		this.shape = shape; // 横截面形状？（字符串）
		this.hasEgg = hasEgg; // 是否加蛋黄？（boolean）
		this.toString = pastaToString;
		// 这里添加 toString 方法（如下定义）。
		// 注意在函数的名称后没有加圆括号；
		// 这不是一个函数调用，而是对函数自身的引用。
	}

	function pastaToString() {
		// 返回对象的属性。
		return "Grain: " + this.grain + "\n" + "Width: " + this.width + "\n"
				+ "Shape: " + this.shape + "\n" + "Egg?: "
				+ Boolean(this.hasEgg);
	}

	function pastaDemo() {
		//定义了对象构造器后，用 new 运算符创建对象实例。
		var spaghetti = new pasta("wheat", 0.2, "circle", true);

		// 将调用 toString() 并显示 spaghetti 对象 的属性。
		//window.alert(spaghetti);
		console.info("spaghetti :%o", spaghetti);
		//使用原型对象添加属性
		pasta.prototype.foodgroup = "carbohydrates";

		//使用expanddo属性
		spaghetti.color = "   pale straw   ";
		spaghetti.drycook = 7;
		spaghetti.freshcook = 0.5;
		//window.alert("spaghetti.foodgroup=" + spaghetti.foodgroup);
		console.info("spaghetti.foodgroup=" + spaghetti.foodgroup);
		console.info("spaghetti :%o", spaghetti);

		var chowFun = new pasta("rice", 3, "flat", false);
		console.info("chowFun :%o", chowFun);

		pasta.prototype.trim = function(str) {
			// 用正则表达式将前后空格用空字符串替代。
			return str.replace(/(^\s*)|(\s*$)/g, "");
		}
		console.info("spaghetti.color=" + spaghetti.color);
		var trimColor = spaghetti.trim(spaghetti.color)
		//window.alert(trim);
		console.info("spaghetti.color=" + trimColor);
	}

	function Student(name) {
		this.name = name;
		this.getName = getName;
		this.toString = toString;
	}
	function getName() {
		return this.name;
	}
	function toString() {
		return "Student : " + this.name;
	}
	function Button1_onclick() {
		var s = new Student("lijie", 20, "asdad", "13971212");
		console.debug(s.toString());
		alert(s.getName());
		alert(s.name);
	}

	function objDemo() {
		var myObject = new Object();
		myObject.name = "James";
		myObject.age = "22";
		myObject.phone = "555 1234";

		//myObject.100 = 100;
		//myObject.not a valid identifier = "This is the property value";
		myObject["not a valid identifier"] = "This is the property value";
		myObject[100] = "100";

		// 枚举（循环）对象的所有属性
		for (prop in myObject) {
			// 显示 "The property 'name' is James"，等等。
			document.write("The property '" + prop + "' is " + myObject[prop]
					+ "<br/>");

		}

	}
	function arrayDemo() {
		var myArray = new Array(3);
		myArray[0] = "Hello";
		myArray[1] = 42;
		myArray[2] = new Date(2000, 1, 1);
		//window.alert(myArray.length);// 显示数组的长度 3
		console.info("myArray.length:"+myArray.length);
		myArray.expando = "JScript!";// 添加某些 expando 属性
		myArray["another Expando"] = "Windows";
		
		// 仍然显示 3，因为两个 expando 属性，并不影响长度。
		//window.alert(myArray.length);
		console.info("myArray.length:"+myArray.length)
		//window.alert("myArray.expando:" + myArray.expando);
		//window.alert("myArray[expando]:" + myArray["expando"]);
		for ( var prop in myArray) {
			document.write("prop " + prop + " is " + myArray[prop] + "<br/>")
		}

	}

	function withDemo() {
		//不使用with的情况
		var m, n;
		m = Math.cos(3 * Math.PI) + Math.sin(Math.LN10);
		n = Math.tan(14 * Math.E)
		//document.write("m = " + m + ", n = " + n);
		console.info("m = " + m + ", n = " + n);
		
		//使用with的方式：
		var x, y;
		with (Math) {
			x = cos(3 * PI) + sin(LN10);
			y = tan(14 * E);
		}
		//document.write("x = " + x + ", y = " + y);
		console.info("x = " + x + ", y = " + y);

	}
</script>
</head>
<body>
	<input type="button" value="stDemo" onclick="Button1_onclick()" />
	<input type="button" value="pastaDemo" onclick="pastaDemo()" />
	<input type="button" value="objDemo" onclick="objDemo()" />
	<input type="button" value="arrayDemo" onclick="arrayDemo()" />
	<input type="button" value="withDemo" onclick="withDemo()" />

	<!-- <br />
	<a href="history.go(-2)">后退两页</a>
	<a href="history.back()">后退一页</a>
	<a href="history.forward()">前进一页</a>
	<a href="history.go(2)">前进两页</a> -->
</body>
</html>